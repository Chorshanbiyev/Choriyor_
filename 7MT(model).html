<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MT7 — MATLABda grafik tahlil</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <!-- MathJax for formulas -->
  <script>window.MathJax = { tex: { inlineMath: [['$','$'],['\\(','\\)']] } };</script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <!-- Chart.js for interactive plots -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Plotly for 3D graphs -->
  <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
  <style>
    :root { --bg: #1e1b3a; --card: #2a253f; --ink:#f1f5f9; --muted:#94a3b8; --brand:#3b82f6; }
    html { scroll-behavior: smooth; }
    body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; background: linear-gradient(180deg, #1e1b3a 0%, #1e1b3a 60%, #2a253f 100%); color: var(--ink); }
    .glass { background: rgba(42,37,63,0.7); backdrop-filter: blur(12px); border: 1px solid rgba(148,163,184,0.2); }
    .btn { @apply px-4 py-2 rounded-2xl; background: #3b82f6; color: white; box-shadow: 0 6px 20px rgba(59,130,246,.3); transition: all 0.3s; }
    .btn:hover { @apply scale-105; box-shadow: 0 8px 25px rgba(59,130,246,.4); }
    .btn-ghost { @apply px-3 py-2 rounded-xl; background: rgba(148,163,184,0.15); color: var(--ink); transition: all 0.3s; }
    .btn-ghost:hover { background: rgba(148,163,184,0.25); }
    .btn-success { @apply px-4 py-2 rounded-2xl; background: #10b981; color: white; box-shadow: 0 6px 20px rgba(16,185,129,.3); }
    .btn-run { @apply px-4 py-2 rounded-2xl; background: #ef4444; color: white; box-shadow: 0 6px 20px rgba(239,68,68,.3); }
    .chip { @apply px-3 py-1 rounded-full text-xs; background: rgba(59,130,246,0.15); color:#3b82f6; border:1px solid rgba(59,130,246,0.3); }
    .chip-matlab { @apply px-3 py-1 rounded-full text-xs; background: rgba(249,115,22,0.15); color:#f97316; border:1px solid rgba(249,115,22,0.3); }
    .chip-3d { @apply px-3 py-1 rounded-full text-xs; background: rgba(139,69,19,0.15); color:#8b4513; border:1px solid rgba(139,69,19,0.3); }
    .kbd { @apply px-2 py-0.5 rounded border; border-color: rgba(148,163,184,.3); color: var(--muted); }
    .code { background: #1a1625; border: 1px solid rgba(148,163,184,.3); }
    .step-indicator { @apply w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold; }
    .step-active { background: #3b82f6; color: white; }
    .step-completed { background: #10b981; color: white; }
    .step-pending { background: rgba(148,163,184,0.2); color: var(--muted); }
    .slider-container { @apply relative mt-2; }
    .slider { @apply w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer; }
    .slider::-webkit-slider-thumb { @apply appearance-none w-5 h-5 bg-blue-400 rounded-full cursor-pointer; }
    .tutorialBox { @apply glass rounded-xl p-4 border-l-4; border-left-color: #3b82f6; }
    .moduleCard { @apply glass rounded-2xl p-6 hover:scale-105 transition-transform duration-300 cursor-pointer; }
    .output-panel { @apply glass rounded-xl p-4; background: rgba(20,20,30,0.8); }
    .console { font-family: 'Courier New', monospace; font-size: 13px; line-height: 1.4; }
    .surface-controls { @apply glass rounded-xl p-4 space-y-3; }
    .surface-preview { @apply glass rounded-xl p-4; height: 350px; }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="sticky top-0 z-40 glass">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center gap-4">
      <div class="flex items-center gap-2">
        <div class="w-3 h-3 rounded-full bg-purple-400 animate-pulse"></div>
        <span class="font-semibold">MT7 · MATLABda grafik tahlil</span>
      </div>
      <nav class="ml-auto flex gap-3 text-sm text-slate-300">
        <a href="#hero" class="btn-ghost">Bosh sahifa</a>
        <a href="#theory" class="btn-ghost">Nazariya</a>
        <a href="#examples" class="btn-ghost">MATLAB kodlari</a>
        <a href="#lab" class="btn-ghost">Interaktiv modul</a>
        <a href="#tasks" class="btn-ghost">Masalalar</a>
        <a href="#quiz" class="btn-ghost">Quiz/Baholash</a>
        <a href="#resources" class="btn-ghost">Adabiyotlar</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section id="hero" class="max-w-7xl mx-auto px-4 pt-12 pb-8">
    <div class="grid md:grid-cols-2 gap-8 items-center">
      <div>
        <h1 class="text-3xl md:text-5xl font-extrabold leading-tight">MATLABda <span class="text-purple-300">grafik tahlil</span></h1>
        <p class="mt-4 text-slate-300">Mavzu: <span class="chip-matlab">surf</span> · <span class="chip-matlab">slice</span> · <span class="chip-3d">3D visualization</span> · <span class="chip">Surface analysis</span></p>
        <p class="mt-4 text-slate-400">MATLAB — bu matematik modellashtirish, hisoblash va vizualizatsiya uchun mo‘ljallangan kuchli muhitdir. Unda grafik tahlil (ya’ni funksiyalarni ko‘p o‘lchamli ko‘rinishda tasvirlash) muhim o‘rin tutadi. 3D grafiklar yordamida foydalanuvchi murakkab matematik va fizik jarayonlarni vizual kuzatishi, ularni tahlil qilishi va natijalar asosida xulosalar chiqarishi mumkin.

Ushbu mavzuda surf, slice funksiyalari hamda 3D visualization imkoniyatlari yordamida sirtlarni tahlil qilish usullari ko‘rib chiqiladi.</p>
        <div class="mt-6 flex gap-3">
          <a href="#lab" class="btn">Interaktiv modulga o'tish</a>
          <a href="#examples" class="btn-ghost">MATLAB kodlari</a>
        </div>
      </div>
      <div class="glass rounded-3xl p-4">
        <div id="heroPlot" class="w-full h-[320px]"></div>
      </div>
    </div>
  </section>

  <!-- Theory -->
  <section id="theory" class="max-w-7xl mx-auto px-4 py-10">
    <div class="grid lg:grid-cols-3 gap-6">
      <div class="glass rounded-2xl p-6 lg:col-span-2">
        <h2 class="text-2xl font-bold mb-4"></h2>
        <p class="text-slate-300 mb-4">

3D visualization — bu foydalanuvchiga uch o‘lchovli sirt yoki hajmni aylantirib ko‘rish, ranglar va yorug‘likni boshqarish imkonini beruvchi vosita.

Asosiy buyruqlar:

view(az, el) — sirtning ko‘rish burchagini o‘zgartiradi (azimut, elevation).

rotate3d on — foydalanuvchi sichqoncha yordamida grafikka aylantirish imkonini beradi.

lighting phong yoki lighting gouraud — sirtni yoritish usullarini belgilaydi.

camlight — kameraning yoritish manbaasini yoqadi.</p>
        
       
      <aside class="glass rounded-2xl p-6">
        <h3 class="font-semibold mb-2">Dars maqsadlari</h3>
        <ul class="list-disc list-inside text-slate-300 space-y-1 text-sm">
          <li>3D yuzalar yaratish va tahlil qilish</li>
          <li>surf, mesh, slice funksiyalarini ishlatish</li>
          <li>Murakkab funksiyalarni vizualizatsiya qilish</li>
          <li>Slice orqali yuzalarni kesish</li>
          <li>Colormap va yoritish effektlari</li>
          <li>Interaktiv 3D grafik boshqaruvi</li>
        </ul>
        <div class="mt-4">
          <span class="chip-matlab">3D Graphics</span> 
          <span class="chip-3d">Surface</span> 
          <span class="chip">Analysis</span>
          <span class="chip">Visualization</span>
        </div>
      </aside>
    </div>
  </section>

  <!-- Examples & MATLAB code -->
  <section id="examples" class="max-w-7xl mx-auto px-4 py-10">
    <h2 class="text-2xl font-bold mb-4">MATLAB kod namunalari</h2>
    <div class="grid md:grid-cols-2 gap-6">
      <div class="glass rounded-2xl p-6">
        <h3 class="font-semibold mb-2">1) Oddiy surface plot</h3>
        <p class="text-slate-300 text-sm">simple_surface.m</p>
        <pre class="code p-4 rounded text-sm overflow-auto"><code>% Oddiy yuzaga namuna
[X, Y] = meshgrid(-2:0.1:2, -2:0.1:2);
Z = X.^2 + Y.^2;  % Paraboloid

% Surface plot yaratish
figure;
surf(X, Y, Z);

% Sozlamalar
title('Paraboloid yuzasi: z = x² + y²');
xlabel('X o''qi');
ylabel('Y o''qi');
zlabel('Z o''qi');
colorbar;  % Rang shkalasi
shading interp;  % Silliq ranglar</code></pre>
      </div>
      
      <div class="glass rounded-2xl p-6">
        <h3 class="font-semibold mb-2">2) Sinc funksiyasi 3D</h3>
        <p class="text-slate-300 text-sm">sinc_surface.m</p>
        <pre class="code p-4 rounded text-sm overflow-auto"><code>% Sinc funksiyasi yuzasi
x = -8:0.5:8;
y = -8:0.5:8;
[X, Y] = meshgrid(x, y);

% Sinc funksiyasini hisoblash
R = sqrt(X.^2 + Y.^2) + eps;  % eps - nolga bo'lishni oldini olish
Z = sin(R) ./ R;

% Surface plot
figure;
surf(X, Y, Z);

% Rang va yoritish
colormap jet;
lighting gouraud;
shading interp;
title('Sinc funksiyasi: z = sin(r)/r');</code></pre>
      </div>
      
      <div class="glass rounded-2xl p-6">
        <h3 class="font-semibold mb-2">3) Slice - Yuzani kesish</h3>
        <p class="text-slate-300 text-sm">slice_example.m</p>
        <pre class="code p-4 rounded text-sm overflow-auto"><code>% 3D ma'lumotlarni yaratish
[X, Y, Z] = meshgrid(-2:0.2:2, -2:0.25:2, -2:0.16:2);

% 3D funksiya: f(x,y,z) = x*exp(-x²-y²-z²)
V = X .* exp(-X.^2 - Y.^2 - Z.^2);

% Slice qilish joylari
xslice = [-1.2, 0.8, 2];    % x-z tekisliklar
yslice = 2;                 % y-z tekislik
zslice = [-2, 0];           % x-y tekisliklar

% Slice plot
figure;
slice(X, Y, Z, V, xslice, yslice, zslice);

% Sozlamalar
xlabel('X o''qi'); ylabel('Y o''qi'); zlabel('Z o''qi');
title('3D Volume Slice: V = x·exp(-x²-y²-z²)');
colorbar;</code></pre>
      </div>
      
      <div class="glass rounded-2xl p-6">
        <h3 class="font-semibold mb-2">4) Mesh va Surface taqqoslash</h3>
        <p class="text-slate-300 text-sm">mesh_vs_surf.m</p>
        <pre class="code p-4 rounded text-sm overflow-auto"><code>% Ma'lumotlar yaratish
[X, Y] = meshgrid(-3:0.25:3);
Z = peaks(X, Y);  % MATLAB peaks funksiyasi

% Subplot yaratish
figure;

% Mesh plot
subplot(1,2,1);
mesh(X, Y, Z);
title('Mesh plot');
xlabel('X'); ylabel('Y'); zlabel('Z');

% Surface plot
subplot(1,2,2);
surf(X, Y, Z);
title('Surface plot');
xlabel('X'); ylabel('Y'); zlabel('Z');
shading interp;

% Umumiy sozlamalar
sgtitle('Mesh vs Surface taqqoslash');</code></pre>
      </div>
      
      <div class="glass rounded-2xl p-6">
        <h3 class="font-semibold mb-2">5) Contour va 3D birgalikda</h3>
        <p class="text-slate-300 text-sm">surface_contour.m</p>
        <pre class="code p-4 rounded text-sm overflow-auto"><code>% Ma'lumotlar
[X, Y] = meshgrid(-2:0.1:2, -2:0.1:2);
Z = X .* exp(-X.^2 - Y.^2);

figure;
% Surface plot
surf(X, Y, Z);
hold on;

% Contour qo'shish
contour3(X, Y, Z, 20, 'k');  % 20 ta qora kontur chiziq

% Sozlamalar
title('Surface + Contour: z = x·e^{-x²-y²}');
xlabel('X o''qi');
ylabel('Y o''qi');
zlabel('Z o''qi');
colormap parula;
lighting gouraud;</code></pre>
      </div>
      
      <div class="glass rounded-2xl p-6">
        <h3 class="font-semibold mb-2">6) Interaktiv yoritish</h3>
        <p class="text-slate-300 text-sm">surface_lighting.m</p>
        <pre class="code p-4 rounded text-sm overflow-auto"><code>% Sfera yaratish
[X, Y, Z] = sphere(50);

figure;
surf(X, Y, Z);

% Yoritish qo'shish
light('Position',[1 3 2]);
light('Position',[-3 -1 3]);
lighting gouraud;
material shiny;

% Shaffoflik qo'shish
alpha(0.7);

% Sozlamalar
title('Yoritish effektlari');
axis equal;
colormap copper;
shading interp;</code></pre>
      </div>
    </div>
  </section>

  <!-- Interactive Lab -->
  <section id="lab" class="max-w-7xl mx-auto px-4 py-10">
    <div class="glass rounded-3xl p-6">
      <div class="flex items-start justify-between flex-wrap gap-4 mb-6">
        <div>
          <h2 class="text-2xl font-bold">3D Surface tahlil simulatori</h2>
          <p class="text-slate-300">Turli 3D funksiyalarni yaratib, surf va slice bilan tahlil qiling. Real vaqtda parametrlarni o'zgartirib natijalarni kuzating.</p>
        </div>
        <div class="flex gap-2">
          <button id="btnClear" class="btn-ghost">Tozalash</button>
          <button id="btnRotate" class="btn-ghost">Aylantirish</button>
          <button id="btnRun" class="btn-run">Ishga tushirish</button>
        </div>
      </div>

      <!-- Function Type selector -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
        <div class="moduleCard" data-type="paraboloid">
          <div class="text-center">
            <div class="w-12 h-12 bg-blue-500 rounded-lg mx-auto mb-2 flex items-center justify-center">🌊</div>
            <h3 class="font-semibold text-sm">Paraboloid</h3>
            <p class="text-xs text-slate-400">z = x² + y²</p>
          </div>
        </div>
        <div class="moduleCard" data-type="sinc">
          <div class="text-center">
            <div class="w-12 h-12 bg-green-500 rounded-lg mx-auto mb-2 flex items-center justify-center">📊</div>
            <h3 class="font-semibold text-sm">Sinc</h3>
            <p class="text-xs text-slate-400">sin(r)/r</p>
          </div>
        </div>
        <div class="moduleCard" data-type="gaussian">
          <div class="text-center">
            <div class="w-12 h-12 bg-purple-500 rounded-lg mx-auto mb-2 flex items-center justify-center">🎯</div>
            <h3 class="font-semibold text-sm">Gaussian</h3>
            <p class="text-xs text-slate-400">e^(-(x²+y²))</p>
          </div>
        </div>
        <div class="moduleCard" data-type="saddle">
          <div class="text-center">
            <div class="w-12 h-12 bg-red-500 rounded-lg mx-auto mb-2 flex items-center justify-center">🏔️</div>
            <h3 class="font-semibold text-sm">Saddle</h3>
            <p class="text-xs text-slate-400">x² - y²</p>
          </div>
        </div>
      </div>

      <div class="grid lg:grid-cols-3 gap-6">
        <!-- Controls -->
        <div class="surface-controls">
          <h4 class="font-semibold mb-3">Parametr sozlamalar</h4>
          
          <div class="space-y-4">
            <div>
              <label class="text-sm text-slate-300">X oraliq:</label>
              <div class="flex gap-2 mt-1">
                <input type="number" id="xMin" value="-2" class="w-16 px-2 py-1 bg-slate-800 rounded text-xs">
                <span class="text-slate-400 text-xs">dan</span>
                <input type="number" id="xMax" value="2" class="w-16 px-2 py-1 bg-slate-800 rounded text-xs">
                <span class="text-slate-400 text-xs">gacha</span>
              </div>
            </div>
            
            <div>
              <label class="text-sm text-slate-300">Y oraliq:</label>
              <div class="flex gap-2 mt-1">
                <input type="number" id="yMin" value="-2" class="w-16 px-2 py-1 bg-slate-800 rounded text-xs">
                <span class="text-slate-400 text-xs">dan</span>
                <input type="number" id="yMax" value="2" class="w-16 px-2 py-1 bg-slate-800 rounded text-xs">
                <span class="text-slate-400 text-xs">gacha</span>
              </div>
            </div>
            
            <div>
              <label class="text-sm text-slate-300">Grid zichligi:</label>
              <input type="range" id="resolution" min="10" max="100" value="30" class="slider w-full mt-1">
              <span id="resValue" class="text-xs text-slate-400">30 nuqta</span>
            </div>
            
            <div>
              <label class="text-sm text-slate-300">Parametr A:</label>
              <input type="range" id="paramA" min="0.1" max="5" value="1" step="0.1" class="slider w-full mt-1">
              <span id="paramAValue" class="text-xs text-slate-400">1.0</span>
            </div>
            
            <div>
              <label class="text-sm text-slate-300">Parametr B:</label>
              <input type="range" id="paramB" min="0.1" max="5" value="1" step="0.1" class="slider w-full mt-1">
              <span id="paramBValue" class="text-xs text-slate-400">1.0</span>
            </div>
            
            <div>
              <label class="flex items-center gap-2 text-sm">
                <input type="checkbox" id="showWireframe" class="rounded">
                <span class="text-slate-300">Wireframe ko'rsatish</span>
              </label>
            </div>
            
            <div>
              <label class="flex items-center gap-2 text-sm">
                <input type="checkbox" id="showSlice" class="rounded">
                <span class="text-slate-300">Slice qo'shish</span>
              </label>
            </div>
          </div>
          
          <div class="mt-4">
            <h5 class="font-semibold text-sm mb-2">Colormap tanlash</h5>
            <div class="grid grid-cols-2 gap-2 text-xs">
              <button class="colormap-btn btn-ghost p-2" data-colormap="viridis">Viridis</button>
              <button class="colormap-btn btn-ghost p-2" data-colormap="plasma">Plasma</button>
              <button class="colormap-btn btn-ghost p-2" data-colormap="jet">Jet</button>
              <button class="colormap-btn btn-ghost p-2" data-colormap="hot">Hot</button>
            </div>
          </div>
        </div>

        <!-- 3D Visualization -->
        <div class="lg:col-span-2 space-y-4">
          <!-- 3D Plot -->
          <div class="surface-preview">
            <div id="surface3D" class="w-full h-full"></div>
          </div>
          
          <!-- Analysis Panel -->
          <div class="output-panel">
            <h4 class="font-semibold mb-3 flex items-center gap-2">
              <div class="step-indicator step-active">📊</div>
              Tahlil natijalari
            </h4>
            <div id="analysisOutput" class="console bg-black/40 rounded-lg p-3 h-[120px] overflow-auto text-green-400">
              <div class="text-slate-400">Funksiya tanlab, parametrlarni sozlang...</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Examples -->
      <div class="mt-6 grid md:grid-cols-4 gap-4">
        <button class="btn-ghost p-3 text-left example-btn" data-function="peaks">
          <div class="font-semibold text-sm">MATLAB Peaks</div>
          <div class="text-xs text-slate-400">Standart test funksiyasi</div>
        </button>
        
        <button class="btn-ghost p-3 text-left example-btn" data-function="ripple">
          <div class="font-semibold text-sm">Ripple Effect</div>
          <div class="text-xs text-slate-400">To'lqin effekti</div>
        </button>
        
        <button class="btn-ghost p-3 text-left example-btn" data-function="volcano">
          <div class="font-semibold text-sm">Volcano</div>
          <div class="text-xs text-slate-400">Vulqon shakli</div>
        </button>
        
        <button class="btn-ghost p-3 text-left example-btn" data-function="custom">
          <div class="font-semibold text-sm">Custom Function</div>
          <div class="text-xs text-slate-400">Maxsus funksiya</div>
        </button>
      </div>
    </div>
  </section>

  <!-- Tasks -->
  <section id="tasks" class="max-w-7xl mx-auto px-4 py-10">
    <h2 class="text-2xl font-bold mb-4">Mustaqil ishlar va masalalar</h2>
    <div class="grid md:grid-cols-2 gap-6">
      <div class="glass rounded-2xl p-6">
        <h3 class="font-semibold mb-2">Boshlang'ich daraja</h3>
        <ol class="list-decimal list-inside text-slate-300 space-y-2 text-sm">
          <li>$z = x^2 + y^2$ funksiyasini surf() bilan chizing va colorbar qo'shing.</li>
          <li>Sinc funksiyasi $z = \frac{\sin(\sqrt{x^2 + y^2})}{\sqrt{x^2 + y^2}}$ ni vizuallashtiring.</li>
          <li>Bir xil ma'lumotni mesh va surf bilan chizing, farqini tushuntiring.</li>
          <li>Gaussian funksiya $z = e^{-(x^2 + y^2)}$ uchun turli colormap ishlatib ko'ring.</li>
        </ol>
      </div>
      
      <div class="glass rounded-2xl p-6">
        <h3 class="font-semibold mb-2">O'rta va yuqori daraja</h3>
        <ol class="list-decimal list-inside text-slate-300 space-y-2 text-sm">
          <li>3D volume yaratib, slice funksiyasi bilan kesma oling.</li>
          <li>surfl va lighting effektlarini ishlatib realistik yuzalar yarating.</li>
          <li>Contour3 bilan surface va kontur chiziqlarini birgalikda ko'rsating.</li>
          <li>Animatsiyali 3D surface yaratib, vaqt bo'yicha o'zgarishini ko'rsating.</li>
          <li>Maxsus colormap yaratib, o'z funksiyangizga qo'llang.</li>
        </ol>
      </div>
    </div>

    <details class="mt-6 glass rounded-2xl p-6">
      <summary class="cursor-pointer font-semibold">Yechimlar va maslahatlar</summary>
      <div class="mt-3 space-y-3 text-slate-300 text-sm">
        <div class="tutorialBox">
          <p><strong>1-masala (paraboloid):</strong></p>
          <pre class="text-xs bg-slate-900/60 p-2 rounded mt-1"><code>[X,Y] = meshgrid(-3:0.2:3);
Z = X.^2 + Y.^2;
surf(X,Y,Z);
colorbar;</code></pre>
        </div>
        
        <div class="tutorialBox">
          <p><strong>2-masala (sinc):</strong></p>
          <pre class="text-xs bg-slate-900/60 p-2 rounded mt-1"><code>[X,Y] = meshgrid(-8:0.3:8);
R = sqrt(X.^2 + Y.^2) + eps;
Z = sin(R)./R;
surf(X,Y,Z); title('Sinc function');</code></pre>
        </div>
        
        <div class="tutorialBox">
          <p><strong>3-masala (mesh vs surf):</strong></p>
          <pre class="text-xs bg-slate-900/60 p-2 rounded mt-1"><code>subplot(1,2,1); mesh(X,Y,Z); title('Mesh');
subplot(1,2,2); surf(X,Y,Z); title('Surface');</code></pre>
        </div>
        
        <div class="tutorialBox">
          <p><strong>5-masala (slice):</strong></p>
          <pre class="text-xs bg-slate-900/60 p-2 rounded mt-1"><code>[X,Y,Z] = meshgrid(-2:0.2:2);
V = X.*exp(-X.^2-Y.^2-Z.^2);
slice(X,Y,Z,V,0,0,0);</code></pre>
        </div>
      </div>
    </details>
  </section>

  <!-- Quiz / Assessment -->
  <section id="quiz" class="max-w-7xl mx-auto px-4 py-10">
    <div class="glass rounded-3xl p-6">
      <h2 class="text-2xl font-bold mb-4">3D grafik tahlili bo'yicha baholash</h2>
      <div class="grid md:grid-cols-2 gap-6">
        
        <div class="glass rounded-2xl p-4">
          <h3 class="font-semibold mb-3">Nazariy savolllar</h3>
          <div class="space-y-4">
            <div>
              <p class="text-sm text-slate-300 mb-2">1. surf va mesh orasidagi asosiy farq nima?</p>
              <div class="space-y-1 text-xs">
                <label class="flex items-center gap-2"><input type="radio" name="q1" value="a"> mesh tezroq</label>
                <label class="flex items-center gap-2"><input type="radio" name="q1" value="b"> surf yuzlarni to'ldiradi</label>
                <label class="flex items-center gap-2"><input type="radio" name="q1" value="c"> farq yo'q</label>
              </div>
            </div>
            
            <div>
              <p class="text-sm text-slate-300 mb-2">2. slice() funksiyasi nima uchun ishlatiladi?</p>
              <div class="space-y-1 text-xs">
                <label class="flex items-center gap-2"><input type="radio" name="q2" value="a"> 2D chizish uchun</label>
                <label class="flex items-center gap-2"><input type="radio" name="q2" value="b"> 3D volumeni kesish uchun</label>
                <label class="flex items-center gap-2"><input type="radio" name="q2" value="c"> rang o'zgartirish uchun</label>
              </div>
            </div>
            
            <div>
              <p class="text-sm text-slate-300 mb-2">3. meshgrid() nima qiladi?</p>
              <div class="space-y-1 text-xs">
                <label class="flex items-center gap-2"><input type="radio" name="q3" value="a"> rang beradi</label>
                <label class="flex items-center gap-2"><input type="radio" name="q3" value="b"> koordinata to'rini yaratadi</label>
                <label class="flex items-center gap-2"><input type="radio" name="q3" value="c"> faylni saqlaydi</label>
              </div>
            </div>
            
            <div>
              <p class="text-sm text-slate-300 mb-2">4. colorbar nima uchun ishlatiladi?</p>
              <div class="space-y-1 text-xs">
                <label class="flex items-center gap-2"><input type="radio" name="q4" value="a"> rang shkalasini ko'rsatish</label>
                <label class="flex items-center gap-2"><input type="radio" name="q4" value="b"> grafikni saqlash</label>
                <label class="flex items-center gap-2"><input type="radio" name="q4" value="c"> yoritish uchun</label>
              </div>
            </div>
            
            <button id="btnCheckAnswers" class="btn-success w-full">Javoblarni tekshirish</button>
          </div>
        </div>
        
        <div class="glass rounded-2xl p-4">
          <h3 class="font-semibold mb-3">Kod tahlili</h3>
          <div class="space-y-3">
            <div>
              <p class="text-sm text-slate-300 mb-2">Quyidagi kod natijasini bashorat qiling:</p>
              <pre class="code p-3 text-xs overflow-auto"><code>[X,Y] = meshgrid(-1:1:1);
Z = X + Y;
surf(X,Y,Z);</code></pre>
              <div class="mt-2 space-y-1 text-xs">
                <label class="flex items-center gap-2"><input type="radio" name="code1" value="a"> 3×3 yuzalar</label>
                <label class="flex items-center gap-2"><input type="radio" name="code1" value="b"> Tekis yuzalar</label>
                <label class="flex items-center gap-2"><input type="radio" name="code1" value="c"> Xato beradi</label>
              </div>
            </div>
            
            <div>
              <p class="text-sm text-slate-300 mb-2">Z = X.^2 - Y.^2 qanday yuzalar hosil qiladi?</p>
              <div class="mt-2 space-y-1 text-xs">
                <label class="flex items-center gap-2"><input type="radio" name="code2" value="a"> Paraboloid</label>
                <label class="flex items-center gap-2"><input type="radio" name="code2" value="b"> Saddle (egar)</label>
                <label class="flex items-center gap-2"><input type="radio" name="code2" value="c"> Sfera</label>
              </div>
            </div>
            
            <div>
              <p class="text-sm text-slate-300 mb-2">Quyidagi kod maqsadi nima?</p>
              <pre class="code p-3 text-xs overflow-auto"><code>shading interp;
lighting gouraud;</code></pre>
              <div class="mt-2 space-y-1 text-xs">
                <label class="flex items-center gap-2"><input type="radio" name="code3" value="a"> Silliq rang va yoritish</label>
                <label class="flex items-center gap-2"><input type="radio" name="code3" value="b"> Faylni saqlash</label>
                <label class="flex items-center gap-2"><input type="radio" name="code3" value="c"> Ma'lumot hisoblash</label>
              </div>
            </div>
          </div>
        </div>
        
      </div>
      
      <div id="quizResults" class="hidden mt-4 p-4 glass rounded-xl">
        <h4 class="font-semibold mb-2">Natijalar:</h4>
        <p id="quizScore" class="text-slate-300"></p>
        <div id="detailedResults" class="mt-2 text-sm text-slate-400"></div>
      </div>
    </div>
  </section>

  <!-- Resources -->
  <section id="resources" class="max-w-7xl mx-auto px-4 py-10">
    <h2 class="text-2xl font-bold mb-4">Adabiyotlar va qo'shimcha manbalar</h2>
    <div class="grid md:grid-cols-2 gap-6">
      <div class="glass rounded-2xl p-4">
        <h3 class="font-semibold mb-2">Rasmiy hujjatlar</h3>
        <ul class="list-disc list-inside text-slate-300 space-y-1 text-sm">
          <li>MATLAB 3-D Visualization Documentation</li>
          <li>Surface and Mesh Plots Guide</li>
          <li>Volume Visualization with slice()</li>
          <li>Lighting and Camera Effects</li>
        </ul>
      </div>
      
      <div class="glass rounded-2xl p-4">
        <h3 class="font-semibold mb-2">Mahalliy adabiyotlar</h3>
        <ul class="list-disc list-inside text-slate-300 space-y-1 text-sm">
          <li>Xolmatov N. "3D Grafika va Vizualizatsiya", 2023</li>
          <li>Qosimov A. "MATLAB bilan 3D Modellashtirish", 2022</li>
          <li>Rahimov S. "Grafik tahlil metodlari", 2021</li>
          <li>Usmanov B. "Ilmiy vizualizatsiya", 2020</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="mt-8 pb-10">
    <div class="max-w-7xl mx-auto px-4 text-slate-500 text-sm">
      <div class="h-px bg-slate-700/40 mb-4"></div>
      <p>© MATLAB 3D Graphics: "Vizuallashtir → Tahlil qil → Tushun" orqali murakkab ma'lumotlarni o'rganish.</p>
    </div>
  </footer>

  <script>
    // Global variables
    let currentSurface = null;
    let currentFunction = 'paraboloid';
    let isRotating = false;
    let rotationAnimation = null;
    
    // Function definitions
    const functions = {
      paraboloid: (x, y, a, b) => a * (x*x) + b * (y*y),
      sinc: (x, y, a, b) => {
        const r = Math.sqrt(x*x + y*y) * a + 0.001;
        return b * Math.sin(r) / r;
      },
      gaussian: (x, y, a, b) => b * Math.exp(-a * (x*x + y*y)),
      saddle: (x, y, a, b) => a * (x*x) - b * (y*y),
      peaks: (x, y, a, b) => {
        return a * (3*(1-x)*(1-x)*Math.exp(-(x*x) - (y+1)*(y+1)) 
                   - 10*(x/5 - x*x*x - y*y*y*y*y)*Math.exp(-x*x-y*y) 
                   - 1/3*Math.exp(-(x+1)*(x+1) - y*y)) * b;
      },
      ripple: (x, y, a, b) => {
        const r = Math.sqrt(x*x + y*y) * a + 0.001;
        return b * Math.sin(r) * Math.exp(-r/3);
      },
      volcano: (x, y, a, b) => {
        const r = Math.sqrt(x*x + y*y) * a;
        return b * (1 - r*r) * Math.exp(-r*r/2);
      },
      custom: (x, y, a, b) => a * x * y * Math.exp(-x*x - y*y) * b
    };

    // Initialize hero visualization
    function initHero() {
      const size = 40;
      const data = [];
      
      // Create meshgrid
      for (let i = 0; i < size; i++) {
        data[i] = [];
        for (let j = 0; j < size; j++) {
          const x = -2 + (4 * i) / (size - 1);
          const y = -2 + (4 * j) / (size - 1);
          data[i][j] = functions.sinc(x, y, 1, 3);
        }
      }
      
      const surface = {
        z: data,
        type: 'surface',
        colorscale: 'Viridis',
        showscale: false
      };
      
      const layout = {
        margin: { l: 0, r: 0, b: 0, t: 0 },
        paper_bgcolor: 'rgba(0,0,0,0)',
        plot_bgcolor: 'rgba(0,0,0,0)',
        scene: {
          camera: { eye: { x: 1.5, y: 1.5, z: 1.5 } },
          xaxis: { visible: false },
          yaxis: { visible: false },
          zaxis: { visible: false },
          bgcolor: 'rgba(0,0,0,0)'
        }
      };
      
      Plotly.newPlot('heroPlot', [surface], layout, { displayModeBar: false, responsive: true });
    }

    // Generate surface data
    function generateSurfaceData() {
      const xMin = parseFloat(document.getElementById('xMin').value);
      const xMax = parseFloat(document.getElementById('xMax').value);
      const yMin = parseFloat(document.getElementById('yMin').value);
      const yMax = parseFloat(document.getElementById('yMax').value);
      const resolution = parseInt(document.getElementById('resolution').value);
      const paramA = parseFloat(document.getElementById('paramA').value);
      const paramB = parseFloat(document.getElementById('paramB').value);
      
      const x = [];
      const y = [];
      const z = [];
      
      // Generate grid
      for (let i = 0; i < resolution; i++) {
        x[i] = [];
        y[i] = [];
        z[i] = [];
        for (let j = 0; j < resolution; j++) {
          const xVal = xMin + (xMax - xMin) * j / (resolution - 1);
          const yVal = yMin + (yMax - yMin) * i / (resolution - 1);
          
          x[i][j] = xVal;
          y[i][j] = yVal;
          z[i][j] = functions[currentFunction](xVal, yVal, paramA, paramB);
        }
      }
      
      return { x, y, z };
    }

    // Update 3D surface
    function updateSurface() {
      const { x, y, z } = generateSurfaceData();
      const showWireframe = document.getElementById('showWireframe').checked;
      const showSlice = document.getElementById('showSlice').checked;
      
      const traces = [];
      
      // Main surface
      traces.push({
        x: x,
        y: y,
        z: z,
        type: 'surface',
        colorscale: getCurrentColormap(),
        showscale: true,
        opacity: showSlice ? 0.8 : 1.0,
        contours: showWireframe ? {
          x: { show: true, color: 'white', width: 1 },
          y: { show: true, color: 'white', width: 1 },
          z: { show: true, color: 'white', width: 1 }
        } : {}
      });
      
      // Add slice if enabled
      if (showSlice) {
        const sliceZ = z.map(row => row.map(() => 0)); // Slice at z=0
        traces.push({
          x: x,
          y: y,
          z: sliceZ,
          type: 'surface',
          colorscale: [[0, 'rgba(255,0,0,0.3)'], [1, 'rgba(255,0,0,0.3)']],
          showscale: false,
          opacity: 0.5
        });
      }
      
      const layout = {
        margin: { l: 0, r: 0, b: 0, t: 0 },
        paper_bgcolor: 'rgba(0,0,0,0)',
        plot_bgcolor: 'rgba(0,0,0,0)',
        scene: {
          camera: { eye: { x: 1.5, y: 1.5, z: 1.2 } },
          xaxis: { 
            title: 'X',
            color: '#94a3b8',
            gridcolor: '#374151'
          },
          yaxis: { 
            title: 'Y', 
            color: '#94a3b8',
            gridcolor: '#374151'
          },
          zaxis: { 
            title: 'Z', 
            color: '#94a3b8',
            gridcolor: '#374151'
          },
          bgcolor: 'rgba(20,20,30,0.5)'
        }
      };
      
      Plotly.newPlot('surface3D', traces, layout, { 
        displayModeBar: false, 
        responsive: true 
      });
      
      // Update analysis
      updateAnalysis(z);
    }

    // Update analysis results
    function updateAnalysis(z) {
      const output = document.getElementById('analysisOutput');
      
      // Calculate statistics
      let min = Infinity, max = -Infinity, sum = 0, count = 0;
      
      z.forEach(row => {
        row.forEach(val => {
          if (val < min) min = val;
          if (val > max) max = val;
          sum += val;
          count++;
        });
      });
      
      const mean = sum / count;
      
      const results = [
        `Funksiya: ${currentFunction}`,
        `Min qiymat: ${min.toFixed(3)}`,
        `Max qiymat: ${max.toFixed(3)}`,
        `O'rtacha qiymat: ${mean.toFixed(3)}`,
        `Grid o'lchami: ${z.length} × ${z[0].length}`,
        `Nuqtalar soni: ${count}`
      ];
      
      output.innerHTML = results.map(r => `<div class="text-green-400">&gt;&gt; ${r}</div>`).join('');
    }

    // Get current colormap
    function getCurrentColormap() {
      const activeBtn = document.querySelector('.colormap-btn.ring-2');
      if (!activeBtn) return 'Viridis';
      
      const colormaps = {
        'viridis': 'Viridis',
        'plasma': 'Plasma',
        'jet': 'Jet',
        'hot': 'Hot'
      };
      
      return colormaps[activeBtn.dataset.colormap] || 'Viridis';
    }

    // Start/stop rotation
    function toggleRotation() {
      if (isRotating) {
        clearInterval(rotationAnimation);
        isRotating = false;
        document.getElementById('btnRotate').textContent = 'Aylantirish';
      } else {
        let angle = 0;
        rotationAnimation = setInterval(() => {
          angle += 2;
          const camera = {
            eye: {
              x: 2 * Math.cos(angle * Math.PI / 180),
              y: 2 * Math.sin(angle * Math.PI / 180),
              z: 1.2
            }
          };
          
          Plotly.relayout('surface3D', { 'scene.camera': camera });
        }, 100);
        
        isRotating = true;
        document.getElementById('btnRotate').textContent = 'To\'xtatish';
      }
    }

    // Update slider values display
    function updateSliderValues() {
      document.getElementById('resValue').textContent = document.getElementById('resolution').value + ' nuqta';
      document.getElementById('paramAValue').textContent = parseFloat(document.getElementById('paramA').value).toFixed(1);
      document.getElementById('paramBValue').textContent = parseFloat(document.getElementById('paramB').value).toFixed(1);
    }

    // Quiz functionality
    function checkQuizAnswers() {
      let score = 0;
      const total = 7;
      const details = [];
      
      // Q1 - correct: b
      const q1 = document.querySelector('input[name="q1"]:checked');
      if (q1 && q1.value === 'b') {
        score++;
        details.push('✓ Q1: To\'g\'ri - surf yuzlarni to\'ldiradi');
      } else {
        details.push('✗ Q1: Noto\'g\'ri - surf yuzlarni rang bilan to\'ldiradi, mesh faqat chiziqlar');
      }
      
      // Q2 - correct: b
      const q2 = document.querySelector('input[name="q2"]:checked');
      if (q2 && q2.value === 'b') {
        score++;
        details.push('✓ Q2: To\'g\'ri - slice 3D volumeni kesish uchun');
      } else {
        details.push('✗ Q2: Noto\'g\'ri - slice 3D volume ma\'lumotlarini kesish uchun ishlatiladi');
      }
      
      // Q3 - correct: b
      const q3 = document.querySelector('input[name="q3"]:checked');
      if (q3 && q3.value === 'b') {
        score++;
        details.push('✓ Q3: To\'g\'ri - meshgrid koordinata to\'rini yaratadi');
      } else {
        details.push('✗ Q3: Noto\'g\'ri - meshgrid X va Y koordinata to\'rlarini yaratadi');
      }
      
      // Q4 - correct: a
      const q4 = document.querySelector('input[name="q4"]:checked');
      if (q4 && q4.value === 'a') {
        score++;
        details.push('✓ Q4: To\'g\'ri - colorbar rang shkalasini ko\'rsatish uchun');
      } else {
        details.push('✗ Q4: Noto\'g\'ri - colorbar ranglar va qiymatlari orasidagi bog\'lanishni ko\'rsatadi');
      }
      
      // Code1 - correct: b
      const code1 = document.querySelector('input[name="code1"]:checked');
      if (code1 && code1.value === 'b') {
        score++;
        details.push('✓ Code1: To\'g\'ri - 3×3 grid tekis yuzalar hosil qiladi');
      } else {
        details.push('✗ Code1: Noto\'g\'ri - X+Y formulasi tekis yuzalar hosil qiladi');
      }
      
      // Code2 - correct: b
      const code2 = document.querySelector('input[name="code2"]:checked');
      if (code2 && code2.value === 'b') {
        score++;
        details.push('✓ Code2: To\'g\'ri - X²-Y² saddle (egar) shakli');
      } else {
        details.push('✗ Code2: Noto\'g\'ri - X²-Y² saddle point (egar shakli) hosil qiladi');
      }
      
      // Code3 - correct: a
      const code3 = document.querySelector('input[name="code3"]:checked');
      if (code3 && code3.value === 'a') {
        score++;
        details.push('✓ Code3: To\'g\'ri - silliq rang va yoritish effektlari');
      } else {
        details.push('✗ Code3: Noto\'g\'ri - shading interp va lighting gouraud silliq effektlar beradi');
      }
      
      const percentage = Math.round((score / total) * 100);
      document.getElementById('quizScore').textContent = `Sizning natijangiz: ${score}/${total} (${percentage}%)`;
      document.getElementById('detailedResults').innerHTML = details.join('<br>');
      document.getElementById('quizResults').classList.remove('hidden');
      
      // Add color based on score
      const resultsDiv = document.getElementById('quizResults');
      resultsDiv.classList.remove('border-l-4', 'border-green-400', 'border-yellow-400', 'border-red-400');
      
      if (percentage >= 80) {
        resultsDiv.classList.add('border-l-4', 'border-green-400');
      } else if (percentage >= 60) {
        resultsDiv.classList.add('border-l-4', 'border-yellow-400');
      } else {
        resultsDiv.classList.add('border-l-4', 'border-red-400');
      }
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', function() {
      initHero();
      updateSliderValues();

      // Function selector cards
      document.querySelectorAll('.moduleCard').forEach(card => {
        card.addEventListener('click', function() {
          currentFunction = this.dataset.type;
          
          // Update active state
          document.querySelectorAll('.moduleCard').forEach(c => c.classList.remove('ring-2', 'ring-purple-400'));
          this.classList.add('ring-2', 'ring-purple-400');
          
          updateSurface();
        });
      });

      // Colormap buttons
      document.querySelectorAll('.colormap-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          document.querySelectorAll('.colormap-btn').forEach(b => b.classList.remove('ring-2', 'ring-blue-400'));
          this.classList.add('ring-2', 'ring-blue-400');
          updateSurface();
        });
      });

      // Control inputs
      ['xMin', 'xMax', 'yMin', 'yMax'].forEach(id => {
        document.getElementById(id).addEventListener('change', updateSurface);
      });
      
      ['resolution', 'paramA', 'paramB'].forEach(id => {
        document.getElementById(id).addEventListener('input', () => {
          updateSliderValues();
          updateSurface();
        });
      });
      
      ['showWireframe', 'showSlice'].forEach(id => {
        document.getElementById(id).addEventListener('change', updateSurface);
      });

      // Button events
      document.getElementById('btnRun').addEventListener('click', updateSurface);
      document.getElementById('btnRotate').addEventListener('click', toggleRotation);
      document.getElementById('btnClear').addEventListener('click', () => {
        // Reset to defaults
        currentFunction = 'paraboloid';
        document.getElementById('xMin').value = -2;
        document.getElementById('xMax').value = 2;
        document.getElementById('yMin').value = -2;
        document.getElementById('yMax').value = 2;
        document.getElementById('resolution').value = 30;
        document.getElementById('paramA').value = 1;
        document.getElementById('paramB').value = 1;
        document.getElementById('showWireframe').checked = false;
        document.getElementById('showSlice').checked = false;
        
        updateSliderValues();
        updateSurface();
        
        // Clear selection
        document.querySelectorAll('.moduleCard').forEach(c => c.classList.remove('ring-2', 'ring-purple-400'));
        document.querySelectorAll('.colormap-btn').forEach(b => b.classList.remove('ring-2', 'ring-blue-400'));
      });

      // Example buttons
      document.querySelectorAll('.example-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const func = this.dataset.function;
          currentFunction = func;
          
          // Set specific parameters for examples
          switch(func) {
            case 'peaks':
              document.getElementById('paramA').value = 1;
              document.getElementById('paramB').value = 1;
              break;
            case 'ripple':
              document.getElementById('paramA').value = 2;
              document.getElementById('paramB').value = 3;
              break;
            case 'volcano':
              document.getElementById('paramA').value = 1.5;
              document.getElementById('paramB').value = 2;
              break;
            case 'custom':
              document.getElementById('paramA').value = 2;
              document.getElementById('paramB').value = 5;
              break;
          }
          
          updateSliderValues();
          updateSurface();
        });
      });

      // Quiz button
      document.getElementById('btnCheckAnswers').addEventListener('click', checkQuizAnswers);

      // Initial surface
      updateSurface();
      
      // Select default colormap
      document.querySelector('.colormap-btn[data-colormap="viridis"]').classList.add('ring-2', 'ring-blue-400');
    });
  </script>
</body>
</html>